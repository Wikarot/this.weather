(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{44:function(e,t,n){e.exports=function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}return function(r){function i(t,a){var r,c,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(c=this,s=n(i).call(this),r=!s||"object"!==typeof s&&"function"!==typeof s?o(c):s).object=t,r.domElement=void 0!==a?a:document,r.enabled=!0,r.target=new e.Vector3,r.minDistance=0,r.maxDistance=1/0,r.minZoom=0,r.maxZoom=1/0,r.minPolarAngle=0,r.maxPolarAngle=Math.PI,r.minAzimuthAngle=-1/0,r.maxAzimuthAngle=1/0,r.enableDamping=!1,r.dampingFactor=.25,r.enableZoom=!0,r.zoomSpeed=1,r.enableRotate=!0,r.rotateSpeed=1,r.enablePan=!0,r.keyPanSpeed=7,r.autoRotate=!1,r.autoRotateSpeed=2,r.enableKeys=!0,r.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},r.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT},r.target0=r.target.clone(),r.position0=r.object.position.clone(),r.zoom0=r.object.zoom,r.getPolarAngle=function(){return f.phi},r.getAzimuthalAngle=function(){return f.theta},r.reset=function(){l.target.copy(l.target0),l.object.position.copy(l.position0),l.object.zoom=l.zoom0,l.object.updateProjectionMatrix(),l.dispatchEvent(d),l.update(),h=p.NONE},r.update=function(){var n=new e.Vector3,a=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),o=a.clone().inverse(),r=new e.Vector3,i=new e.Quaternion;return function(){var e=l.object.position;return n.copy(e).sub(l.target),n.applyQuaternion(a),f.setFromVector3(n),l.autoRotate&&h===p.NONE&&L(2*Math.PI/60/60*l.autoRotateSpeed),f.theta+=g.theta,f.phi+=g.phi,f.theta=Math.max(l.minAzimuthAngle,Math.min(l.maxAzimuthAngle,f.theta)),f.phi=Math.max(l.minPolarAngle,Math.min(l.maxPolarAngle,f.phi)),f.makeSafe(),f.radius*=y,f.radius=Math.max(l.minDistance,Math.min(l.maxDistance,f.radius)),l.target.add(v),n.setFromSpherical(f),n.applyQuaternion(o),e.copy(l.target).add(n),l.object.lookAt(l.target),!0===l.enableDamping?(g.theta*=1-l.dampingFactor,g.phi*=1-l.dampingFactor):g.set(0,0,0),y=1,v.set(0,0,0),!!(w||r.distanceToSquared(l.object.position)>b||8*(1-i.dot(l.object.quaternion))>b)&&(l.dispatchEvent(d),r.copy(l.object.position),i.copy(l.object.quaternion),w=!1,!0)}}(),r.dispose=function(){l.domElement.removeEventListener("contextmenu",G,!1),l.domElement.removeEventListener("mousedown",D,!1),l.domElement.removeEventListener("wheel",F,!1),l.domElement.removeEventListener("touchstart",Y,!1),l.domElement.removeEventListener("touchend",Z,!1),l.domElement.removeEventListener("touchmove",V,!1),document.removeEventListener("mousemove",B,!1),document.removeEventListener("mouseup",U,!1),window.removeEventListener("keydown",z,!1)};var l=o(o(r)),d={type:"change"},u={type:"start"},m={type:"end"},p={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},h=p.NONE,b=1e-6,f=new e.Spherical,g=new e.Spherical,y=1,v=new e.Vector3,w=!1,E=new e.Vector2,_=new e.Vector2,O=new e.Vector2,k=new e.Vector2,x=new e.Vector2,j=new e.Vector2,P=new e.Vector2,M=new e.Vector2,C=new e.Vector2;function R(){return Math.pow(.95,l.zoomSpeed)}function L(e){g.theta-=e}function A(e){g.phi-=e}var T=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),v.add(t)}}(),N=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,1),t.multiplyScalar(e),v.add(t)}}(),I=function(){var t=new e.Vector3;return function(e,n){var a=l.domElement===document?l.domElement.body:l.domElement;if(Object.getPrototypeOf(l.object).isPerspectiveCamera){var o=l.object.position;t.copy(o).sub(l.target);var r=t.length();r*=Math.tan(l.object.fov/2*Math.PI/180),T(2*e*r/a.clientHeight,l.object.matrix),N(2*n*r/a.clientHeight,l.object.matrix)}else Object.getPrototypeOf(l.object).isOrthographicCamera?(T(e*(l.object.right-l.object.left)/l.object.zoom/a.clientWidth,l.object.matrix),N(n*(l.object.top-l.object.bottom)/l.object.zoom/a.clientHeight,l.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),l.enablePan=!1)}}();function W(e){Object.getPrototypeOf(l.object).isPerspectiveCamera?y/=e:Object.getPrototypeOf(l.object).isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom*e)),l.object.updateProjectionMatrix(),w=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function S(e){Object.getPrototypeOf(l.object).isPerspectiveCamera?y*=e:Object.getPrototypeOf(l.object).isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/e)),l.object.updateProjectionMatrix(),w=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function D(e){if(!1!==l.enabled){if(e.preventDefault(),e.button===l.mouseButtons.ORBIT){if(!1===l.enableRotate)return;!function(e){E.set(e.clientX,e.clientY)}(e),h=p.ROTATE}else if(e.button===l.mouseButtons.ZOOM){if(!1===l.enableZoom)return;!function(e){P.set(e.clientX,e.clientY)}(e),h=p.DOLLY}else if(e.button===l.mouseButtons.PAN){if(!1===l.enablePan)return;!function(e){k.set(e.clientX,e.clientY)}(e),h=p.PAN}h!==p.NONE&&(document.addEventListener("mousemove",B,!1),document.addEventListener("mouseup",U,!1),l.dispatchEvent(u))}}function B(e){if(!1!==l.enabled)if(e.preventDefault(),h===p.ROTATE){if(!1===l.enableRotate)return;!function(e){_.set(e.clientX,e.clientY),O.subVectors(_,E);var t=l.domElement===document?l.domElement.body:l.domElement;L(2*Math.PI*O.x/t.clientWidth*l.rotateSpeed),A(2*Math.PI*O.y/t.clientHeight*l.rotateSpeed),E.copy(_),l.update()}(e)}else if(h===p.DOLLY){if(!1===l.enableZoom)return;!function(e){M.set(e.clientX,e.clientY),C.subVectors(M,P),C.y>0?W(R()):C.y<0&&S(R()),P.copy(M),l.update()}(e)}else if(h===p.PAN){if(!1===l.enablePan)return;!function(e){x.set(e.clientX,e.clientY),j.subVectors(x,k),I(j.x,j.y),k.copy(x),l.update()}(e)}}function U(e){!1!==l.enabled&&(document.removeEventListener("mousemove",B,!1),document.removeEventListener("mouseup",U,!1),l.dispatchEvent(m),h=p.NONE)}function F(e){!1===l.enabled||!1===l.enableZoom||h!==p.NONE&&h!==p.ROTATE||(e.preventDefault(),e.stopPropagation(),function(e){e.deltaY<0?S(R()):e.deltaY>0&&W(R()),l.update()}(e),l.dispatchEvent(u),l.dispatchEvent(m))}function z(e){!1!==l.enabled&&!1!==l.enableKeys&&!1!==l.enablePan&&function(e){switch(e.keyCode){case l.keys.UP:I(0,l.keyPanSpeed),l.update();break;case l.keys.BOTTOM:I(0,-l.keyPanSpeed),l.update();break;case l.keys.LEFT:I(l.keyPanSpeed,0),l.update();break;case l.keys.RIGHT:I(-l.keyPanSpeed,0),l.update()}}(e)}function Y(e){if(!1!==l.enabled){switch(e.touches.length){case 1:if(!1===l.enableRotate)return;!function(e){E.set(e.touches[0].pageX,e.touches[0].pageY)}(e),h=p.TOUCH_ROTATE;break;case 2:if(!1===l.enableZoom)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+n*n);P.set(0,a)}(e),h=p.TOUCH_DOLLY;break;case 3:if(!1===l.enablePan)return;!function(e){k.set(e.touches[0].pageX,e.touches[0].pageY)}(e),h=p.TOUCH_PAN;break;default:h=p.NONE}h!==p.NONE&&l.dispatchEvent(u)}}function V(e){if(!1!==l.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===l.enableRotate)return;if(h!==p.TOUCH_ROTATE)return;!function(e){_.set(e.touches[0].pageX,e.touches[0].pageY),O.subVectors(_,E);var t=l.domElement===document?l.domElement.body:l.domElement;L(2*Math.PI*O.x/t.clientWidth*l.rotateSpeed),A(2*Math.PI*O.y/t.clientHeight*l.rotateSpeed),E.copy(_),l.update()}(e);break;case 2:if(!1===l.enableZoom)return;if(h!==p.TOUCH_DOLLY)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+n*n);M.set(0,a),C.subVectors(M,P),C.y>0?S(R()):C.y<0&&W(R()),P.copy(M),l.update()}(e);break;case 3:if(!1===l.enablePan)return;if(h!==p.TOUCH_PAN)return;!function(e){x.set(e.touches[0].pageX,e.touches[0].pageY),j.subVectors(x,k),I(j.x,j.y),k.copy(x),l.update()}(e);break;default:h=p.NONE}}function Z(e){!1!==l.enabled&&(l.dispatchEvent(m),h=p.NONE)}function G(e){e.preventDefault()}return l.domElement.addEventListener("contextmenu",G,!1),l.domElement.addEventListener("mousedown",D,!1),l.domElement.addEventListener("wheel",F,!1),l.domElement.addEventListener("touchstart",Y,!1),l.domElement.addEventListener("touchend",Z,!1),l.domElement.addEventListener("touchmove",V,!1),window.addEventListener("keydown",z,!1),r.update(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(i,r),c=i,(s=[{key:"center",get:function(){return console.warn("OrbitControls: .center has been renamed to .target"),this.target}},{key:"noZoom",get:function(){return console.warn("OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},{key:"noRotate",get:function(){return console.warn("OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},{key:"noPan",get:function(){return console.warn("OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},{key:"noKeys",get:function(){return console.warn("OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},{key:"staticMoving",get:function(){return console.warn("OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},{key:"dynamicDampingFactor",get:function(){return console.warn("OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}])&&t(c.prototype,s),l&&t(c,l),i;var c,s,l}(e.EventDispatcher)}(n(5))},45:function(e,t,n){var a,o,r;o=[t],void 0===(r="function"===typeof(a=function(e){var t,n,a=window,o=document,r="mousemove",i="mouseup",c="mousedown",s="EventListener",l="add"+s,d="remove"+s,u=[],m=function(e,s){for(e=0;e<u.length;)(s=(s=u[e++]).container||s)[d](c,s.md,0),a[d](i,s.mu,0),a[d](r,s.mm,0);for(u=[].slice.call(o.getElementsByClassName("dragscroll")),e=0;e<u.length;)!function(e,s,d,u,m,p){(p=e.container||e)[l](c,p.md=function(t){e.hasAttribute("nochilddrag")&&o.elementFromPoint(t.pageX,t.pageY)!=p||(u=1,s=t.clientX,d=t.clientY,t.preventDefault())},0),a[l](i,p.mu=function(){u=0},0),a[l](r,p.mm=function(a){u&&((m=e.scroller||e).scrollLeft-=t=-s+(s=a.clientX),m.scrollTop-=n=-d+(d=a.clientY),e==o.body&&((m=o.documentElement).scrollLeft-=t,m.scrollTop-=n))},0)}(u[e++])};"complete"==o.readyState?m():a[l]("load",m,0),e.reset=m})?a.apply(t,o):a)||(e.exports=r)},47:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(10),i=n(12),c=n(13),s=n(15),l=n(14),d=n(2),u=n(16),m=n(0),p=n.n(m),h=n(5),b=n(44),f=n.n(b),g=n(45),y=n.n(g),v=n(6),w=n(4),E=new Worker("mercatorToEquirectangular.js"),_={base:"https://tile.openweathermap.org/map/",last1:".png?appid=b280c897878592322aafe56701248929",last2:".png?appid=cdd659df7dc048884575b9451ddf1330"},O=["clouds_new","precipitation_new","pressure_new","wind_new","temp_new"],k=1.006,x=2,j=v.c/x,P=new h.SphereBufferGeometry(v.d,64,64);P.rotateY(h.Math.degToRad(-90));var M=new h.AmbientLight(16777215,.015),C=new h.DirectionalLight(16777215,.78),R=[[void 0,void 0],[void 0,void 0],[void 0,void 0],[void 0,void 0],[void 0,void 0]];function L(){return A.apply(this,arguments)}function A(){return(A=Object(r.a)(o.a.mark(function e(){var t,n,a,r,i,c,s,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=(new h.TextureLoader).load("/this.weather/images/texture-512.png"),n=(new h.TextureLoader).load("/this.weather/images/spec-512.png"),a=(new h.TextureLoader).load("/this.weather/images/bump-512.jpg"),t.encoding=h.sRGBEncoding,n.encoding=h.sRGBEncoding,a.encoding=h.sRGBEncoding,v.g.fog=new h.Fog(7651583,v.e-.82*v.d,v.e),N(C),(r=new h.Mesh).geometry=P,r.material=new h.MeshPhongMaterial({map:t,specularMap:n,specular:new h.Color(1710618),shininess:55,bumpMap:a,bumpScale:.008}),r.matrixAutoUpdate=!1,i=0;i<5;i++)R[i][0]=document.getElementById("weather_map_"+i).getContext("2d"),R[i][1]=new h.MeshPhongMaterial,(c=new h.CanvasTexture(R[i][0].canvas)).encoding=h.sRGBEncoding,R[i][1].map=c,R[i][1].shininess=0,R[i][1].transparent=!0,(s=new h.Mesh(P,R[i][1])).layers.set(i+1),s.scale.multiplyScalar(k),s.matrixAutoUpdate=!1,M.layers.enable(i+1),C.layers.enable(i+1),v.g.add(s);(l=new h.Mesh).geometry=P,l.material=new h.MeshPhongMaterial({color:16777215,side:h.DoubleSide,transparent:!0,opacity:.05,shininess:0}),l.scale.multiplyScalar(.9*k),l.matrixAutoUpdate=!1,v.g.add(r,l,M,C),setInterval(T,18e4),Object(v.j)();case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(){N(C)}function N(e){var t,n=(new Date).getUTCHours(),a=(new Date).getUTCMonth(),o=new h.Matrix4,r=0;r=a<=6?-8*a+24:8*a-72,t=180-n/24*360,o.makeRotationFromEuler(new h.Euler(h.Math.degToRad(r),h.Math.degToRad(t),0,"YXZ")),e.position.set(0,0,10*v.e),e.position.applyMatrix4(o),e.lookAt(0,0,0)}function I(e){var t=document.createElement("canvas");t.width=v.c,t.height=v.c;var n=t.getContext("2d"),a=0,i=new Image(j,j),c=new Image(j,j),s=new Image(j,j),l=new Image(j,j);function d(e,t,n){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(o.a.mark(function t(r,i,c){var s,l,d,u,m,p,h,b,f,g,y,w;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.drawImage(r,i,c),s=n.getImageData(i,c,j,j),l=s.data.length,0===e)for(d=0;d<l;d+=4)u=((u=s.data[d+3])-153)/.4,s.data[d+0]=255,s.data[d+1]=255,s.data[d+2]=255,s.data[d+3]=1.8*u;else if(1===e)for(m=0;m<l;m+=4)s.data[m+0]=255,s.data[m+1]=255,s.data[m+2]=255,s.data[m+3]*=1.8;else if(2===e)for(p=0;p<l;p+=4)s.data[p+3]*=1.5;else if(3===e)for(h=0;h<l;h+=4)b=s.data[h+0],f=s.data[h+1],s.data[h+0]=255-.75*f,s.data[h+1]=255-.75*b,s.data[h+2]=0,s.data[h+3]*=1.5;else if(4===e)for(g=0;g<l;g+=4)s.data[g+3]*=1.8;if(n.putImageData(s,i,c),++a===x*x)for(y=0;y<v.c;y++)w=n.getImageData(0,y,v.c,1),E.postMessage([w,y,v.c,v.c/2,e]);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}i.crossOrigin="Anonymous",c.crossOrigin="Anonymous",s.crossOrigin="Anonymous",l.crossOrigin="Anonymous",i.src=_.base+O[e]+"/1/0/0"+_.last1,c.src=_.base+O[e]+"/1/1/0"+_.last1,s.src=_.base+O[e]+"/1/0/1"+_.last2,l.src=_.base+O[e]+"/1/1/1"+_.last2,i.onload=Object(r.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(i,0*j,0*j);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),c.onload=Object(r.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(c,1*j,0*j);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),s.onload=Object(r.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(s,0*j,1*j);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),l.onload=Object(r.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(l,1*j,1*j);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))}var W=0;E.onmessage=function(e){var t=e.data[0];e.data[1].forEach(function(){var e=Object(r.a)(o.a.mark(function e(n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R[t][0].putImageData(n.content,0,n.newY);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Object(w.b)('Mapa equirectangular "'+O[t]+'": Creado...'),R[t][1].map.needsUpdate=!0,0===t&&document.getElementById("map_canvas").getContext("2d").putImageData(R[0][0].getImageData(0,0,v.c,.5*v.c),0,0),5===++W&&Object(w.e)("Mapas equirectangulares: Finalizados (5 de 5)")};var S=n(19),D=n(8);function B(e){var t=[];return void 0!==e.iconClasses&&t.push.apply(t,Object(S.a)(e.iconClasses)),p.a.createElement("div",{className:"custom_radio_container"},p.a.createElement("input",{id:"custom_radio_"+e.idWord,className:"custom_radio",name:e.groupWord+"_radio_group",type:"radio",defaultChecked:e.defaultChk}),p.a.createElement("label",{className:"custom_radio_lbl icon_small",title:e.titleWord,htmlFor:"custom_radio_"+e.idWord}),p.a.createElement(D.a,{name:e.iconWord,classes:[].concat(t)}))}function U(e){var t=[],n=["custom_chk_container","btn"];return void 0!==e.iconWordB?(n.push("dual_icon"),t.push("perma_active")):n.push("single_icon"),void 0!==e.iconClasses&&t.push.apply(t,Object(S.a)(e.iconClasses)),p.a.createElement("div",{className:n.join(" ")},p.a.createElement("input",{id:"custom_chk_"+e.idWord,className:"custom_chk",type:"checkbox",defaultChecked:e.defaultChk}),p.a.createElement("label",{className:"custom_chk_lbl",title:e.titleWord,htmlFor:"custom_chk_"+e.idWord}),p.a.createElement(D.a,{name:e.iconWordA,classes:[].concat(t)}),void 0!==e.iconWordB?p.a.createElement(D.a,{name:e.iconWordB,classes:[].concat(t)}):null)}n.d(t,"default",function(){return q});var F,z,Y,V=new h.Vector3,Z=new h.Raycaster,G=[{id:0,label:"Terreno",ref:[""],icon:"terrain"},{id:1,label:"Nubosidad",ref:["0%","100%"],icon:"cloud"},{id:2,label:"Precipitaci\xf3n",ref:["0mm","200mm"],icon:"precipitation"},{id:3,label:"Presi\xf3n",ref:["950hPa","1070hPa"],icon:"tachometer"},{id:4,label:"Viento",ref:["0m/s","200m/s"],icon:"wind"},{id:5,label:"Temperatura",ref:["-40\xb0C","0\xb0C","40\xb0C"],icon:"thermometer"}],X=1,H=window.matchMedia("(max-width: 679px)"),q=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).state={option:X,label:G[X].label,ref:G[X].ref,showContent:"inline-block",showGlobe:"flex",showMap:"none"},n.setGlobe=n.setGlobe.bind(Object(d.a)(n)),n.setMap=n.setMap.bind(Object(d.a)(n)),n.setWeatherOption=n.setWeatherOption.bind(Object(d.a)(n)),n.animateRaf=0,n.labelsRaf=0,n.animate=n.animate.bind(Object(d.a)(n)),n.setCameraPosition=n.setCameraPosition.bind(Object(d.a)(n)),n.toggleLights=n.toggleLights.bind(Object(d.a)(n)),n.toggleRotation=n.toggleRotation.bind(Object(d.a)(n)),n.resetRedererSize=n.resetRedererSize.bind(Object(d.a)(n)),n.updateLabels=n.updateLabels.bind(Object(d.a)(n)),n.mapCanvas=void 0,n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(r.a)(o.a.mark(function e(){var t,n,a,r=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.h){e.next=21;break}return e.next=3,L();case 3:for(t=0;t<0;t++)I(t);(F=new h.PerspectiveCamera(45,v.c/v.c,v.b,v.a)).layers.enable(X),(z=new h.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",stencil:!1})).setSize(v.c,v.c),z.setPixelRatio(2),z.gammaFactor=2.2,z.gammaOutput=!0,z.domElement.id="globe_canvas",(Y=new f.a(F,z.domElement)).rotateSpeed=.3,Y.autoRotate=!1,Y.autoRotateSpeed=2,Y.enablePan=!1,Y.enableZoom=!1,Y.enableKeys=!1,Y.minPolarAngle=Math.PI-.9*Math.PI,Y.maxPolarAngle=.9*Math.PI;case 21:for(document.getElementById("globe_box").appendChild(z.domElement),document.getElementById("weather_maps_body").style.overflowX="visible",this.mapCanvas=document.getElementById("map_canvas"),this.setCameraPosition(0,0),this.resetRedererSize(),this.animate(),v.f.forEach(function(e){return e.label=document.getElementById("city_label_"+e.id)}),this.updateLabels(),n=function(e){document.getElementById("custom_radio_"+e).addEventListener("change",function(){r.setWeatherOption(e)})},a=0;a<6;a++)n(a);document.getElementById("custom_radio_globe_radio").addEventListener("change",function(){r.setGlobe()}),document.getElementById("custom_radio_map_radio").addEventListener("change",function(){r.setMap()}),document.getElementById("custom_chk_rotation_chk").addEventListener("change",function(e){r.toggleRotation(e)}),document.getElementById("custom_chk_day_night_day_chk").addEventListener("change",function(e){r.toggleLights(e)}),document.getElementById("weather_maps_body").addEventListener("scroll",function(e){var t=H.matches?512:1024,n=1+(H.matches?7:14),a=.5*(t+2*n)+n,o=e.target.scrollLeft/a;document.getElementById("mark_left").style.width=32*o+"px",document.getElementById("mark_right").style.width=32-32*o+"px"}),H.addListener(this.resetRedererSize),y.a.reset();case 38:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.animateRaf),cancelAnimationFrame(this.labelsRaf)}},{key:"setGlobe",value:function(){document.getElementById("weather_maps_body").style.overflowX="visible","flex"!==this.state.showGlobe&&this.setState({showMap:"none",showGlobe:"flex"})}},{key:"setMap",value:function(){document.getElementById("weather_maps_body").style.overflowX="hidden","flex"!==this.state.showMAp&&this.setState({showGlobe:"none",showMap:"flex"})}},{key:"setWeatherOption",value:function(e){this.setState({option:e,label:G[e].label,ref:G[e].ref});var t=1;do{e===G[t].id?F.layers.enable(t):F.layers.disable(t),t++}while(t<6);0===e?this.mapCanvas.getContext("2d").clearRect(0,0,v.c,.5*v.c):this.mapCanvas.getContext("2d").putImageData(R[e-1][0].getImageData(0,0,v.c,.5*v.c),0,0)}},{key:"animate",value:function(){this.animateRaf=requestAnimationFrame(this.animate),Y.update(),z.render(v.g,F)}},{key:"setCameraPosition",value:function(e,t){var n=new h.Matrix4;n.makeRotationFromEuler(new h.Euler(e,t,0,"YXZ")),F.position.set(0,0,v.e).applyMatrix4(n),F.lookAt(0,0,0)}},{key:"toggleLights",value:function(e){!0===e.target.checked?(M.intensity=.78,C.intensity=0):(M.intensity=.015,C.intensity=.78)}},{key:"toggleRotation",value:function(e){Y.autoRotate=e.target.checked}},{key:"resetRedererSize",value:function(){var e=z.getSize.x;H.matches&&e!==.5*v.c?z.setSize(.5*v.c,.5*v.c):H.matches||e===v.c||z.setSize(v.c,v.c)}},{key:"updateLabels",value:function(){var e=this;this.labelsRaf=requestAnimationFrame(this.updateLabels);var t=z.domElement.clientWidth,n=z.domElement.clientHeight;v.f.forEach(function(a){var o=a.label,r=a.dot,i=a.x,c=a.y;if("flex"===e.state.showGlobe){r.updateWorldMatrix(!0,!1),r.getWorldPosition(V),V.project(F),Z.setFromCamera(V,F);var s=(.5*V.x+.5)*t,l=(-.5*V.y+.5)*n;o.style.transform="translate(-50%, -50%) translate("+Math.round(s)+"px, "+Math.round(l)+"px)",V.z>.8?o.style.display="none":o.style.display=""}else o.style.display="",H.matches||(i*=2,c*=2),o.style.transform="translate(-50%, -50%) translate("+Math.round(i)+"px, "+Math.round(c)+"px)"})}},{key:"render",value:function(){return p.a.createElement("div",{id:"weather_maps_box"},p.a.createElement("article",{id:"weather_maps"},p.a.createElement("div",{id:"weather_maps_header"},p.a.createElement("h3",null,p.a.createElement("em",null,this.state.label)),p.a.createElement(B,{idWord:"globe_radio",iconWord:"globe",groupWord:"weather_maps",titleWord:"Globo",defaultChk:!0,key:"custom_radio_key_globe_radio"}),p.a.createElement(B,{idWord:"map_radio",iconWord:"map",groupWord:"weather_maps",titleWord:"Mapa",defaultChk:!1,key:"custom_radio_key_map_radio"})),p.a.createElement("hr",null),p.a.createElement("div",{id:"weather_maps_body",className:"dragscroll"},p.a.createElement("div",{id:"globe_box",style:{display:this.state.showGlobe}},p.a.createElement("div",{id:"globe_shadow"},p.a.createElement("span",null))),p.a.createElement("div",{id:"map_box",style:{display:this.state.showMap}},p.a.createElement("div",{id:"map_canvas_container"},p.a.createElement("canvas",{id:"map_canvas",width:v.c,height:.5*v.c}))),p.a.createElement("div",{id:"labels"},v.f.map(function(e){return p.a.createElement(K,{id:e.id,cityName:e.cityName,key:"city_label_"+e.id})}))),p.a.createElement("hr",null),p.a.createElement("div",{id:"ref"},p.a.createElement("div",{id:"ref_data"},G[this.state.option].ref.map(function(e){return p.a.createElement("p",{key:"ref_data_"+e},e)})),p.a.createElement("hr",null),p.a.createElement("div",{id:"ref_gradient_bg"}),p.a.createElement("div",{className:"ref_gradient ref_gradient_"+G[this.state.option].id})),p.a.createElement("hr",null),p.a.createElement("div",{id:"weather_maps_control"},p.a.createElement("div",{id:"globe_controls",style:{display:this.state.showGlobe}},p.a.createElement(U,{idWord:"rotation_chk",iconWordA:"rotation_360",titleWord:"Alternar rotaci\xf3n",defaultChk:!1}),p.a.createElement(U,{idWord:"day_night_day_chk",iconWordA:"day_night",iconWordB:"day",titleWord:"Alternar iluminaci\xf3n",defaultChk:!1})),p.a.createElement("div",{id:"generic_controls"},G.map(function(e){return p.a.createElement(B,{idWord:String(e.id),iconWord:e.icon,groupWord:"map_option",titleWord:e.label,defaultChk:1===e.id,key:"custom_radio_key_"+e.id})}))),p.a.createElement("div",{id:"mark_box",style:{display:this.state.showMap}},p.a.createElement("div",{id:"mark_content"},p.a.createElement("div",{id:"mark_left"}),p.a.createElement("div",{id:"mark_right"})))))}}]),t}(m.Component);function K(e){return p.a.createElement("div",{id:"city_label_"+e.id,className:"city_label"},e.cityName)}}}]);
//# sourceMappingURL=WeatherMaps.60251816.chunk.js.map