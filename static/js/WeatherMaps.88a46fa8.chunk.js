(this["webpackJsonpthis.weather"]=this["webpackJsonpthis.weather"]||[]).push([[1],{41:function(e,t,a){e.exports=function(e){"use strict";function t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}return function(r){function i(t,n){var r,c,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),c=this,(r=!(s=a(i).call(this))||"object"!==typeof s&&"function"!==typeof s?o(c):s).object=t,r.domElement=void 0!==n?n:document,r.enabled=!0,r.target=new e.Vector3,r.minDistance=0,r.maxDistance=1/0,r.minZoom=0,r.maxZoom=1/0,r.minPolarAngle=0,r.maxPolarAngle=Math.PI,r.minAzimuthAngle=-1/0,r.maxAzimuthAngle=1/0,r.enableDamping=!1,r.dampingFactor=.25,r.enableZoom=!0,r.zoomSpeed=1,r.enableRotate=!0,r.rotateSpeed=1,r.enablePan=!0,r.keyPanSpeed=7,r.autoRotate=!1,r.autoRotateSpeed=2,r.enableKeys=!0,r.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},r.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT},r.target0=r.target.clone(),r.position0=r.object.position.clone(),r.zoom0=r.object.zoom,r.getPolarAngle=function(){return f.phi},r.getAzimuthalAngle=function(){return f.theta},r.reset=function(){l.target.copy(l.target0),l.object.position.copy(l.position0),l.object.zoom=l.zoom0,l.object.updateProjectionMatrix(),l.dispatchEvent(d),l.update(),h=p.NONE},r.update=function(){var a=new e.Vector3,n=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),o=n.clone().inverse(),r=new e.Vector3,i=new e.Quaternion;return function(){var e=l.object.position;return a.copy(e).sub(l.target),a.applyQuaternion(n),f.setFromVector3(a),l.autoRotate&&h===p.NONE&&L(2*Math.PI/60/60*l.autoRotateSpeed),f.theta+=g.theta,f.phi+=g.phi,f.theta=Math.max(l.minAzimuthAngle,Math.min(l.maxAzimuthAngle,f.theta)),f.phi=Math.max(l.minPolarAngle,Math.min(l.maxPolarAngle,f.phi)),f.makeSafe(),f.radius*=y,f.radius=Math.max(l.minDistance,Math.min(l.maxDistance,f.radius)),l.target.add(v),a.setFromSpherical(f),a.applyQuaternion(o),e.copy(l.target).add(a),l.object.lookAt(l.target),!0===l.enableDamping?(g.theta*=1-l.dampingFactor,g.phi*=1-l.dampingFactor):g.set(0,0,0),y=1,v.set(0,0,0),!!(w||r.distanceToSquared(l.object.position)>b||8*(1-i.dot(l.object.quaternion))>b)&&(l.dispatchEvent(d),r.copy(l.object.position),i.copy(l.object.quaternion),w=!1,!0)}}(),r.dispose=function(){l.domElement.removeEventListener("contextmenu",G,!1),l.domElement.removeEventListener("mousedown",D,!1),l.domElement.removeEventListener("wheel",z,!1),l.domElement.removeEventListener("touchstart",V,!1),l.domElement.removeEventListener("touchend",Z,!1),l.domElement.removeEventListener("touchmove",Y,!1),document.removeEventListener("mousemove",U,!1),document.removeEventListener("mouseup",B,!1),window.removeEventListener("keydown",F,!1)};var l=o(o(r)),d={type:"change"},u={type:"start"},m={type:"end"},p={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},h=p.NONE,b=1e-6,f=new e.Spherical,g=new e.Spherical,y=1,v=new e.Vector3,w=!1,E=new e.Vector2,_=new e.Vector2,O=new e.Vector2,k=new e.Vector2,x=new e.Vector2,j=new e.Vector2,P=new e.Vector2,M=new e.Vector2,C=new e.Vector2;function R(){return Math.pow(.95,l.zoomSpeed)}function L(e){g.theta-=e}function A(e){g.phi-=e}var T=function(){var t=new e.Vector3;return function(e,a){t.setFromMatrixColumn(a,0),t.multiplyScalar(-e),v.add(t)}}(),N=function(){var t=new e.Vector3;return function(e,a){t.setFromMatrixColumn(a,1),t.multiplyScalar(e),v.add(t)}}(),I=function(){var t=new e.Vector3;return function(e,a){var n=l.domElement===document?l.domElement.body:l.domElement;if(Object.getPrototypeOf(l.object).isPerspectiveCamera){var o=l.object.position;t.copy(o).sub(l.target);var r=t.length();r*=Math.tan(l.object.fov/2*Math.PI/180),T(2*e*r/n.clientHeight,l.object.matrix),N(2*a*r/n.clientHeight,l.object.matrix)}else Object.getPrototypeOf(l.object).isOrthographicCamera?(T(e*(l.object.right-l.object.left)/l.object.zoom/n.clientWidth,l.object.matrix),N(a*(l.object.top-l.object.bottom)/l.object.zoom/n.clientHeight,l.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),l.enablePan=!1)}}();function W(e){Object.getPrototypeOf(l.object).isPerspectiveCamera?y/=e:Object.getPrototypeOf(l.object).isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom*e)),l.object.updateProjectionMatrix(),w=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function S(e){Object.getPrototypeOf(l.object).isPerspectiveCamera?y*=e:Object.getPrototypeOf(l.object).isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/e)),l.object.updateProjectionMatrix(),w=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function D(e){if(!1!==l.enabled){if(e.preventDefault(),e.button===l.mouseButtons.ORBIT){if(!1===l.enableRotate)return;!function(e){E.set(e.clientX,e.clientY)}(e),h=p.ROTATE}else if(e.button===l.mouseButtons.ZOOM){if(!1===l.enableZoom)return;!function(e){P.set(e.clientX,e.clientY)}(e),h=p.DOLLY}else if(e.button===l.mouseButtons.PAN){if(!1===l.enablePan)return;!function(e){k.set(e.clientX,e.clientY)}(e),h=p.PAN}h!==p.NONE&&(document.addEventListener("mousemove",U,!1),document.addEventListener("mouseup",B,!1),l.dispatchEvent(u))}}function U(e){if(!1!==l.enabled)if(e.preventDefault(),h===p.ROTATE){if(!1===l.enableRotate)return;!function(e){_.set(e.clientX,e.clientY),O.subVectors(_,E);var t=l.domElement===document?l.domElement.body:l.domElement;L(2*Math.PI*O.x/t.clientWidth*l.rotateSpeed),A(2*Math.PI*O.y/t.clientHeight*l.rotateSpeed),E.copy(_),l.update()}(e)}else if(h===p.DOLLY){if(!1===l.enableZoom)return;!function(e){M.set(e.clientX,e.clientY),C.subVectors(M,P),C.y>0?W(R()):C.y<0&&S(R()),P.copy(M),l.update()}(e)}else if(h===p.PAN){if(!1===l.enablePan)return;!function(e){x.set(e.clientX,e.clientY),j.subVectors(x,k),I(j.x,j.y),k.copy(x),l.update()}(e)}}function B(e){!1!==l.enabled&&(document.removeEventListener("mousemove",U,!1),document.removeEventListener("mouseup",B,!1),l.dispatchEvent(m),h=p.NONE)}function z(e){!1===l.enabled||!1===l.enableZoom||h!==p.NONE&&h!==p.ROTATE||(e.preventDefault(),e.stopPropagation(),function(e){e.deltaY<0?S(R()):e.deltaY>0&&W(R()),l.update()}(e),l.dispatchEvent(u),l.dispatchEvent(m))}function F(e){!1!==l.enabled&&!1!==l.enableKeys&&!1!==l.enablePan&&function(e){switch(e.keyCode){case l.keys.UP:I(0,l.keyPanSpeed),l.update();break;case l.keys.BOTTOM:I(0,-l.keyPanSpeed),l.update();break;case l.keys.LEFT:I(l.keyPanSpeed,0),l.update();break;case l.keys.RIGHT:I(-l.keyPanSpeed,0),l.update()}}(e)}function V(e){if(!1!==l.enabled){switch(e.touches.length){case 1:if(!1===l.enableRotate)return;!function(e){E.set(e.touches[0].pageX,e.touches[0].pageY)}(e),h=p.TOUCH_ROTATE;break;case 2:if(!1===l.enableZoom)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+a*a);P.set(0,n)}(e),h=p.TOUCH_DOLLY;break;case 3:if(!1===l.enablePan)return;!function(e){k.set(e.touches[0].pageX,e.touches[0].pageY)}(e),h=p.TOUCH_PAN;break;default:h=p.NONE}h!==p.NONE&&l.dispatchEvent(u)}}function Y(e){if(!1!==l.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===l.enableRotate)return;if(h!==p.TOUCH_ROTATE)return;!function(e){_.set(e.touches[0].pageX,e.touches[0].pageY),O.subVectors(_,E);var t=l.domElement===document?l.domElement.body:l.domElement;L(2*Math.PI*O.x/t.clientWidth*l.rotateSpeed),A(2*Math.PI*O.y/t.clientHeight*l.rotateSpeed),E.copy(_),l.update()}(e);break;case 2:if(!1===l.enableZoom)return;if(h!==p.TOUCH_DOLLY)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+a*a);M.set(0,n),C.subVectors(M,P),C.y>0?S(R()):C.y<0&&W(R()),P.copy(M),l.update()}(e);break;case 3:if(!1===l.enablePan)return;if(h!==p.TOUCH_PAN)return;!function(e){x.set(e.touches[0].pageX,e.touches[0].pageY),j.subVectors(x,k),I(j.x,j.y),k.copy(x),l.update()}(e);break;default:h=p.NONE}}function Z(e){!1!==l.enabled&&(l.dispatchEvent(m),h=p.NONE)}function G(e){e.preventDefault()}return l.domElement.addEventListener("contextmenu",G,!1),l.domElement.addEventListener("mousedown",D,!1),l.domElement.addEventListener("wheel",z,!1),l.domElement.addEventListener("touchstart",V,!1),l.domElement.addEventListener("touchend",Z,!1),l.domElement.addEventListener("touchmove",Y,!1),window.addEventListener("keydown",F,!1),r.update(),r}var c,s,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(i,r),c=i,(s=[{key:"center",get:function(){return console.warn("OrbitControls: .center has been renamed to .target"),this.target}},{key:"noZoom",get:function(){return console.warn("OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},{key:"noRotate",get:function(){return console.warn("OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},{key:"noPan",get:function(){return console.warn("OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},{key:"noKeys",get:function(){return console.warn("OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},{key:"staticMoving",get:function(){return console.warn("OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},{key:"dynamicDampingFactor",get:function(){return console.warn("OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}])&&t(c.prototype,s),l&&t(c,l),i}(e.EventDispatcher)}(a(5))},45:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Z}));var n=a(1),o=a.n(n),r=a(7),i=a(13),c=a(14),s=a(4),l=a(16),d=a(15),u=a(0),m=a.n(u),p=a(5),h=a(41),b=a.n(h),f=a(18),g=a(11);function y(e){var t=[];return void 0!==e.iconClasses&&t.push.apply(t,Object(f.a)(e.iconClasses)),m.a.createElement("div",{className:"custom_radio_container"},m.a.createElement("input",{id:"custom_radio_"+e.idWord,className:"custom_radio",name:e.groupWord+"_radio_group",type:"radio",defaultChecked:e.defaultChk}),m.a.createElement("label",{className:"custom_radio_lbl icon_small",title:e.titleWord,htmlFor:"custom_radio_"+e.idWord}),m.a.createElement(g.a,{name:e.iconWord,classes:[].concat(t)}))}function v(e){var t=[],a=["custom_chk_container","btn"];return void 0!==e.iconWordB?(a.push("dual_icon"),t.push("perma_active")):a.push("single_icon"),void 0!==e.iconClasses&&t.push.apply(t,Object(f.a)(e.iconClasses)),m.a.createElement("div",{className:a.join(" ")},m.a.createElement("input",{id:"custom_chk_"+e.idWord,className:"custom_chk",type:"checkbox",defaultChecked:e.defaultChk}),m.a.createElement("label",{className:"custom_chk_lbl",title:e.titleWord,htmlFor:"custom_chk_"+e.idWord}),m.a.createElement(g.a,{name:e.iconWordA,classes:[].concat(t)}),void 0!==e.iconWordB?m.a.createElement(g.a,{name:e.iconWordB,classes:[].concat(t)}):null)}var w=a(8),E=a(6),_=new Worker("mercatorToEquirectangular.js"),O="https://tile.openweathermap.org/map/",k=".png?appid=b280c897878592322aafe56701248929",x=".png?appid=cdd659df7dc048884575b9451ddf1330",j=["clouds_new","precipitation_new","pressure_new","wind_new","temp_new"],P=w.c/2,M=new p.SphereBufferGeometry(w.d,64,64);M.rotateY(p.Math.degToRad(-90));var C=new p.AmbientLight(16777215,.015),R=new p.DirectionalLight(16777215,.78),L=[[void 0,void 0],[void 0,void 0],[void 0,void 0],[void 0,void 0],[void 0,void 0]];function A(){return T.apply(this,arguments)}function T(){return(T=Object(r.a)(o.a.mark((function e(){var t,a,n,r,i,c,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=(new p.TextureLoader).load("/this.weather/images/texture-512.png"),a=(new p.TextureLoader).load("/this.weather/images/spec-512.png"),n=(new p.TextureLoader).load("/this.weather/images/bump-512.jpg"),t.encoding=p.sRGBEncoding,a.encoding=p.sRGBEncoding,n.encoding=p.sRGBEncoding,w.g.fog=new p.Fog(7651583,w.e-.82*w.d,w.e),I(R),(r=new p.Mesh).geometry=M,r.material=new p.MeshPhongMaterial({map:t,specularMap:a,specular:new p.Color(1710618),shininess:55,bumpMap:n,bumpScale:.008}),r.matrixAutoUpdate=!1,i=0;i<5;i++)L[i][0]=document.getElementById("weather_map_"+i).getContext("2d"),L[i][1]=new p.MeshPhongMaterial,(c=new p.CanvasTexture(L[i][0].canvas)).encoding=p.sRGBEncoding,L[i][1].map=c,L[i][1].shininess=0,L[i][1].transparent=!0,(s=new p.Mesh(M,L[i][1])).layers.set(i+1),s.scale.multiplyScalar(1.006),s.matrixAutoUpdate=!1,C.layers.enable(i+1),R.layers.enable(i+1),w.g.add(s);(l=new p.Mesh).geometry=M,l.material=new p.MeshPhongMaterial({color:16777215,side:p.DoubleSide,transparent:!0,opacity:.05,shininess:0}),l.scale.multiplyScalar(.9054),l.matrixAutoUpdate=!1,w.g.add(r,l,C,R),setInterval(N,18e4),Object(w.j)();case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){I(R)}function I(e){var t,a=(new Date).getUTCHours(),n=(new Date).getUTCMonth(),o=new p.Matrix4,r=0;r=n<=6?-8*n+24:8*n-72,t=180-a/24*360,o.makeRotationFromEuler(new p.Euler(p.Math.degToRad(r),p.Math.degToRad(t),0,"YXZ")),e.position.set(0,0,10*w.e),e.position.applyMatrix4(o),e.lookAt(0,0,0)}function W(e){var t=document.createElement("canvas");t.width=w.c,t.height=w.c;var a=t.getContext("2d"),n=0,i=new Image(P,P),c=new Image(P,P),s=new Image(P,P),l=new Image(P,P);function d(e,t,a){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(o.a.mark((function t(r,i,c){var s,l,d,u,m,p,h,b,f,g,y,v;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.drawImage(r,i,c),s=a.getImageData(i,c,P,P),l=s.data.length,0===e)for(d=0;d<l;d+=4)u=((u=s.data[d+3])-153)/.4,s.data[d+0]=255,s.data[d+1]=255,s.data[d+2]=255,s.data[d+3]=1.8*u;else if(1===e)for(m=0;m<l;m+=4)s.data[m+0]=255,s.data[m+1]=255,s.data[m+2]=255,s.data[m+3]*=1.8;else if(2===e)for(p=0;p<l;p+=4)s.data[p+3]*=1.5;else if(3===e)for(h=0;h<l;h+=4)b=s.data[h+0],f=s.data[h+1],s.data[h+0]=255-.75*f,s.data[h+1]=255-.75*b,s.data[h+2]=0,s.data[h+3]*=1.5;else if(4===e)for(g=0;g<l;g+=4)s.data[g+3]*=1.8;if(a.putImageData(s,i,c),4===++n)for(y=0;y<w.c;y++)v=a.getImageData(0,y,w.c,1),_.postMessage([v,y,w.c,w.c/2,e]);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}i.crossOrigin="Anonymous",c.crossOrigin="Anonymous",s.crossOrigin="Anonymous",l.crossOrigin="Anonymous",i.src=O+j[e]+"/1/0/0"+k,c.src=O+j[e]+"/1/1/0"+k,s.src=O+j[e]+"/1/0/1"+x,l.src=O+j[e]+"/1/1/1"+x,i.onload=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(i,0*P,0*P);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),c.onload=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(c,1*P,0*P);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),s.onload=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(s,0*P,1*P);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),l.onload=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(l,1*P,1*P);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}var S=0;_.onmessage=function(e){var t=e.data[0];e.data[1].forEach(function(){var e=Object(r.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L[t][0].putImageData(a.content,0,a.newY);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(E.dbg)('Mapa equirectangular "'+j[t]+'": Creado...'),L[t][1].map.needsUpdate=!0,0===t&&document.getElementById("map_canvas").getContext("2d").putImageData(L[0][0].getImageData(0,0,w.c,.5*w.c),0,0),5===++S&&Object(E.suc)("Mapas equirectangulares: Finalizados (5 de 5)")};var D,U,B,z=new p.Vector3,F=new p.Raycaster,V=[{id:0,label:"Terreno",ref:[""],icon:"terrain"},{id:1,label:"Nubosidad",ref:["0%","100%"],icon:"cloud"},{id:2,label:"Precipitaci\xf3n",ref:["0mm","200mm"],icon:"precipitation"},{id:3,label:"Presi\xf3n",ref:["950hPa","1070hPa"],icon:"tachometer"},{id:4,label:"Viento",ref:["0m/s","200m/s"],icon:"wind"},{id:5,label:"Temperatura",ref:["-40\xb0C","0\xb0C","40\xb0C"],icon:"thermometer"}],Y=window.matchMedia("(max-width: 679px)"),Z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={option:0,label:V[0].label,ref:V[0].ref,showContent:"inline-block",showGlobe:"flex",showMap:"none"},n.setGlobe=n.setGlobe.bind(Object(s.a)(n)),n.setMap=n.setMap.bind(Object(s.a)(n)),n.setWeatherOption=n.setWeatherOption.bind(Object(s.a)(n)),n.animateRaf=0,n.labelsRaf=0,n.animate=n.animate.bind(Object(s.a)(n)),n.setCameraPosition=n.setCameraPosition.bind(Object(s.a)(n)),n.toggleLights=n.toggleLights.bind(Object(s.a)(n)),n.toggleRotation=n.toggleRotation.bind(Object(s.a)(n)),n.resetRedererSize=n.resetRedererSize.bind(Object(s.a)(n)),n.updateLabels=n.updateLabels.bind(Object(s.a)(n)),n.mapCanvas=void 0,n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(r.a)(o.a.mark((function e(){var t,a,n,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.h){e.next=21;break}return e.next=3,A();case 3:for(t=0;t<5;t++)W(t);(D=new p.PerspectiveCamera(45,w.c/w.c,w.b,w.a)).layers.enable(0),(U=new p.WebGLRenderer({antialias:!0,alpha:!0,powerPreference:"high-performance",stencil:!1})).setSize(w.c,w.c),U.setPixelRatio(2),U.gammaFactor=2.2,U.gammaOutput=!0,U.domElement.id="globe_canvas",(B=new b.a(D,U.domElement)).rotateSpeed=.3,B.autoRotate=!1,B.autoRotateSpeed=2,B.enablePan=!1,B.enableZoom=!1,B.enableKeys=!1,B.minPolarAngle=Math.PI-.9*Math.PI,B.maxPolarAngle=.9*Math.PI;case 21:for(document.getElementById("globe_box").appendChild(U.domElement),this.mapCanvas=document.getElementById("map_canvas"),this.setCameraPosition(0,0),this.resetRedererSize(),this.animate(),w.f.forEach((function(e){return e.label=document.getElementById("city_label_"+e.id)})),this.updateLabels(),a=function(e){document.getElementById("custom_radio_"+e).addEventListener("change",(function(){r.setWeatherOption(e)}))},n=0;n<6;n++)a(n);document.getElementById("custom_radio_globe_radio").addEventListener("change",(function(){r.setGlobe()})),document.getElementById("custom_radio_map_radio").addEventListener("change",(function(){r.setMap()})),document.getElementById("custom_chk_rotation_chk").addEventListener("change",(function(e){r.toggleRotation(e)})),document.getElementById("custom_chk_day_night_day_chk").addEventListener("change",(function(e){r.toggleLights(e)})),document.getElementById("weather_maps_body").addEventListener("scroll",(function(e){var t=Y.matches?512:1024,a=1+(Y.matches?7:14),n=.5*(t+2*a)+a,o=e.target.scrollLeft/n;document.getElementById("mark_left").style.width=32*o+"px",document.getElementById("mark_right").style.width=32-32*o+"px"})),Y.addListener(this.resetRedererSize);case 36:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.animateRaf),cancelAnimationFrame(this.labelsRaf)}},{key:"setGlobe",value:function(){document.getElementById("weather_maps_body").style.overflowX="visible","flex"!==this.state.showGlobe&&this.setState({showMap:"none",showGlobe:"flex"})}},{key:"setMap",value:function(){document.getElementById("weather_maps_body").style.overflowX="scroll","flex"!==this.state.showMAp&&this.setState({showGlobe:"none",showMap:"flex"})}},{key:"setWeatherOption",value:function(e){this.setState({option:e,label:V[e].label,ref:V[e].ref});var t=1;do{e===V[t].id?D.layers.enable(t):D.layers.disable(t),t++}while(t<6);0===e?this.mapCanvas.getContext("2d").clearRect(0,0,w.c,.5*w.c):this.mapCanvas.getContext("2d").putImageData(L[e-1][0].getImageData(0,0,w.c,.5*w.c),0,0)}},{key:"animate",value:function(){this.animateRaf=requestAnimationFrame(this.animate),B.update(),U.render(w.g,D)}},{key:"setCameraPosition",value:function(e,t){var a=new p.Matrix4;a.makeRotationFromEuler(new p.Euler(e,t,0,"YXZ")),D.position.set(0,0,w.e).applyMatrix4(a),D.lookAt(0,0,0)}},{key:"toggleLights",value:function(e){!0===e.target.checked?(C.intensity=.78,R.intensity=0):(C.intensity=.015,R.intensity=.78)}},{key:"toggleRotation",value:function(e){B.autoRotate=e.target.checked}},{key:"resetRedererSize",value:function(){var e=U.getSize.x;Y.matches&&e!==.5*w.c?U.setSize(.5*w.c,.5*w.c):Y.matches||e===w.c||U.setSize(w.c,w.c)}},{key:"updateLabels",value:function(){var e=this;this.labelsRaf=requestAnimationFrame(this.updateLabels);var t=U.domElement.clientWidth,a=U.domElement.clientHeight;w.f.forEach((function(n){var o=n.label,r=n.dot,i=n.x,c=n.y;if("flex"===e.state.showGlobe){r.updateWorldMatrix(!0,!1),r.getWorldPosition(z),z.project(D),F.setFromCamera(z,D);var s=(.5*z.x+.5)*t,l=(-.5*z.y+.5)*a;o.style.transform="translate(-50%, -50%) translate("+Math.round(s)+"px, "+Math.round(l)+"px)",z.z>.8?o.style.display="none":o.style.display=""}else o.style.display="",Y.matches||(i*=2,c*=2),o.style.transform="translate(-50%, -50%) translate("+Math.round(i)+"px, "+Math.round(c)+"px)"}))}},{key:"render",value:function(){return m.a.createElement("div",{id:"weather_maps_box"},m.a.createElement("article",{id:"weather_maps"},m.a.createElement("div",{id:"weather_maps_header"},m.a.createElement("h3",null,m.a.createElement("em",null,this.state.label)),m.a.createElement(y,{idWord:"globe_radio",iconWord:"globe",groupWord:"weather_maps",titleWord:"Globo",defaultChk:!0,key:"custom_radio_key_globe_radio"}),m.a.createElement(y,{idWord:"map_radio",iconWord:"map",groupWord:"weather_maps",titleWord:"Mapa",defaultChk:!1,key:"custom_radio_key_map_radio"})),m.a.createElement("hr",null),m.a.createElement("div",{id:"weather_maps_body",className:"dragscroll"},m.a.createElement("div",{id:"globe_box",style:{display:this.state.showGlobe}},m.a.createElement("div",{id:"globe_shadow"},m.a.createElement("span",null))),m.a.createElement("div",{id:"map_box",style:{display:this.state.showMap}},m.a.createElement("div",{id:"map_canvas_container"},m.a.createElement("canvas",{id:"map_canvas",width:w.c,height:.5*w.c}))),m.a.createElement("div",{id:"labels"},w.f.map((function(e){return m.a.createElement(G,{id:e.id,cityName:e.cityName,key:"city_label_"+e.id})})))),m.a.createElement("hr",null),m.a.createElement("div",{id:"ref"},m.a.createElement("div",{id:"ref_data",title:"Referencia de magnitudes y valores"},V[this.state.option].ref.map((function(e){return m.a.createElement("p",{key:"ref_data_"+e},e)}))),m.a.createElement("hr",null),m.a.createElement("div",{id:"ref_gradient_bg"}),m.a.createElement("div",{className:"ref_gradient ref_gradient_"+V[this.state.option].id,title:"Referencia de colores"})),m.a.createElement("hr",null),m.a.createElement("div",{id:"weather_maps_control"},m.a.createElement("div",{id:"globe_controls",style:{display:this.state.showGlobe}},m.a.createElement(v,{idWord:"rotation_chk",iconWordA:"rotation_360",titleWord:"Alternar rotaci\xf3n",defaultChk:!1}),m.a.createElement(v,{idWord:"day_night_day_chk",iconWordA:"day_night",iconWordB:"day",titleWord:"Alternar iluminaci\xf3n",defaultChk:!1})),m.a.createElement("div",{id:"generic_controls"},V.map((function(e){return m.a.createElement(y,{idWord:String(e.id),iconWord:e.icon,groupWord:"map_option",titleWord:e.label,defaultChk:1===e.id,key:"custom_radio_key_"+e.id})})))),m.a.createElement("div",{id:"mark_box",style:{display:this.state.showMap}},m.a.createElement("div",{id:"mark_content"},m.a.createElement("div",{id:"mark_left"}),m.a.createElement("div",{id:"mark_right"})))))}}]),a}(u.Component);function G(e){return m.a.createElement("div",{id:"city_label_"+e.id,className:"city_label"},e.cityName)}}}]);
//# sourceMappingURL=WeatherMaps.88a46fa8.chunk.js.map